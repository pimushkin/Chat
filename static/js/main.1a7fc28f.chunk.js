(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(8),o=a.n(r),c=(a(16),a(9)),l=a(10),i=a(1),m=a(2),u=a(4),h=a(3),d=a(5),b=a(6),p=(a(18),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("ul",{className:"Messages-list"},this.props.messages.map(function(t,a){return s.a.createElement(v,{message:t,index:a,handleClick:e.props.handleClick})}))}}]),t}(n.Component)),v=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.message,t=e.member,a=e.text,n=e.newMember,r=this.props.index,o=this.props.handleClick;return s.a.createElement(s.a.Fragment,null,t&&s.a.createElement("li",null,s.a.createElement("span",{className:"avatar",style:{backgroundColor:t.clientData.color}}),s.a.createElement("div",{className:"Message-content"},s.a.createElement("div",{className:"username"},t.clientData.username),s.a.createElement("div",{className:"text"},a),s.a.createElement("button",{type:"button",onClick:function(){return o(r)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),n&&s.a.createElement("li",null,s.a.createElement("span",{className:"avatar",style:{backgroundColor:n.clientData.color}}),s.a.createElement("div",{className:"Message-content"},s.a.createElement("div",{className:"username"},n.clientData.username),s.a.createElement("div",{className:"text"},a))))}}]),t}(n.Component),f=p,g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={text:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"onChange",value:function(e){this.setState({text:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({text:""}),this.props.onSendMessage(this.state.text)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Input"},s.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},s.a.createElement("input",{onChange:function(t){return e.onChange(t)},value:this.state.text,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 ENTER",autofocus:"true"}),s.a.createElement("button",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))}}]),t}(n.Component),E=["\u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439, \u0432\u043e\u0440\u043e\u0431\u0435\u0439, \u043b\u0435\u0442\u0430\u0442\u044c","\u043e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439, \u0440\u0443\u0447\u043a\u0430, \u0432\u0438\u0434\u0435\u0442\u044c","\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0439, \u0438\u0433\u0440\u0443\u0448\u043a\u0430, \u0440\u043e\u0437\u0430","\u0435\u0434\u0438\u043d\u043e\u0440\u043e\u0433, \u0430\u043b\u0444\u0430\u0432\u0438\u0442, \u0434\u043e\u0431\u0440\u044b\u0439"],O=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).state={messages:[],member:{username:"\u042f",color:"#aff8e1"}},e.onSendMessage=function(t){e.drone.publish({room:"observable-room",message:t})},e.drone=new window.Scaledrone("XG4srZveQyPHWebE",{data:e.state.member}),e.handleClick=e.handleClick.bind(Object(b.a)(Object(b.a)(e))),e.drone.on("open",function(t){if(t)return console.error(t);var a=Object(l.a)({},e.state.member);a.id=e.drone.clientId,e.setState({member:a})}),e.drone.subscribe("observable-room").on("data",function(t,a){var n=e.state.messages;n.push({member:a,text:t}),console.log(e.state.textBot),n.push({newMember:{clientData:{color:"#aff8e1",username:"Bot"},id:"w0Ok7gP7i3"},text:E[Math.floor(Math.random()*E.length)]}),e.setState({messages:n})}),e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleClick",value:function(e){console.log(e);var t=Object(c.a)(this.state.messages);t.splice(e,1),this.setState({messages:t})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"App-header"},s.a.createElement("h1",null,"\u0427\u0430\u0442")),s.a.createElement(f,{messages:this.state.messages,currentMember:this.state.member,handleClick:this.handleClick}),s.a.createElement(g,{onSendMessage:this.onSendMessage}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.1a7fc28f.chunk.js.map